{% extends 'main/base.html' %}

{% block content %}
<div class="container my-4">
    <!-- Display Messages -->
    {% if messages %}
        {% for message in messages %}
            <div class="alert {{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}

    <!-- Place Details -->
    <h1>{{ place.name }}</h1>
    <p><strong>City:</strong> {{ place.city }}</p>
    <p><strong>Description:</strong> {{ place.description }}</p>
    <img src="{{ place.photo.url }}" alt="{{ place.name }}" class="img-fluid rounded my-3">

    <div class="d-flex justify-content-between align-items-center my-4">
        {% if user.is_authenticated %}
            <a href="{% url 'places:add_bookmark_view' place.id %}" class="btn btn-outline-primary">
                {% if is_bookmarked %}
                    <i class="bi bi-bookmark-check-fill"></i> Remove Bookmark
                {% else %}
                    <i class="bi bi-bookmark-plus"></i> Add Bookmark
                {% endif %}
            </a>
        {% endif %}

        {% if can_delete %}
            <form action="{% url 'places:delete_place_view' place.pk %}" method="post" onsubmit="return confirm('Are you sure you want to delete this place?');">
                {% csrf_token %}
                <button class="btn btn-danger" type="submit">Delete Place</button>
            </form>
        {% endif %}
    </div>
</div>
{% endblock %}
